# ===================================================
# Asset Manifest
# ===================================================
# --- Asset Metadata ---
asset_id: "takumi-use-case-fashion-001"
asset_version: "1.0.0"
display_name: "Create & Dress Up Original Fashion (MagicClothing)"
description: "A complete environment for virtual try-on using the MagicClothing node."

# --- Monetization & Contribution ---
contribution:
  - type: "use_case_recipe"
    total_share: 30
    distribution_rule: "equal"
    contributors:
      - id: "did:takumi:yamato_watase"

  - type: "key_technology"
    total_share: 50
    distribution_rule: "equal"
    contributors:
      - component_id: "ComfyUI-MagicClothing"
      - component_id: "ComfyUI_IPAdapter_plus"
      - component_id: "comfyui_segment_anything"
      - component_id: "comfyui_controlnet_aux"

  - type: "essential_utility"
    total_share: 10
    distribution_rule: "equal"
    contributors:
      - component_id: "comfyui-manager"
      - component_id: "ComfyUI_essentials"
      - component_id: "ComfyUI-KJNodes"
      - component_id: "ComfyUI-VideoHelperSuite"

  - type: "platform"
    total_share: 10
    distribution_rule: "equal"
    contributors:
      - id: "did:takumi:treasury"

# --- Environment Specification ---
# このアセットが要求する、隔離されたConda環境の定義
environment:
  name: "magic-clothing-env" # 予約語を避けたユニークな名前
  engine: "conda"
  # この環境を構築するためのコア・コンポーネントのリスト
  components:
    - "conda:python@=3.10"
    - "conda:pip"
    - "conda:pytorch-cuda@=11.8|pytorch" # channelを | で区切る

# --- Application Components ---
# このアセットを構成する、アプリケーションレベルのコンポーネント
components:
  - "custom-node:ComfyUI-MagicClothing@main"
  - "custom-node:ComfyUI_IPAdapter_plus@main"
  - "custom-node:comfyui_segment_anything@main"
  - "custom-node:comfyui_controlnet_aux@main"
  - "custom-node:comfyui-manager@main"
  - "custom-node:ComfyUI_essentials@main"
  - "custom-node:ComfyUI-KJNodes@main"
  - "custom-node:ComfyUI-VideoHelperSuite@main"
  - "pip:torch (==2.7.0)"
  - "pip:torchvision (==0.22.0)"
  - "pip:torchaudio (==2.7.0)"
  - "pip:xformers (>=0.0.30,<0.0.31)"
  - "pip:comfyui-frontend-package (>=1.23.4)"
  - "pip:comfyui-workflow-templates (==0.1.22)"
  - "pip:einops (>=0.8.1,<0.9.0)"
  - "pip:transformers (>=4.52.4,<5.0.0)"
  - "pip:tokenizers (>=0.13.3)"
  - "pip:sentencepiece (>=0.2.0,<0.3.0)"
  - "pip:safetensors (>=0.5.3,<0.6.0)"
  - "pip:aiohttp (>=3.11.8)"
  - "pip:yarl (>=1.18.0)"
  - "pip:pyyaml (>=6.0.2,<7.0.0)"
  - "pip:pillow (>=10.3.0)"
  - "pip:scipy (>=1.15.3,<2.0.0)"
  - "pip:tqdm (>=4.67.1,<5.0.0)"
  - "pip:psutil (>=7.0.0,<8.0.0)"
  - "pip:kornia (>=0.7.1)"
  - "pip:pysoundfile (>=0.9.0.post1,<0.10.0)"
  - "pip:av (>=14.2.0)"
  - "pip:pydantic (>=2.0,<3.0)"
  - "pip:spandrel (>=0.4.1,<0.5.0)"
  - "pip:torchsde (>=0.2.6,<0.3.0)"
  - "pip:numba (>=0.61.2,<0.62.0)"
  - "pip:colour-science (>=0.4.6,<0.5.0)"
  - "pip:rembg (>=2.0.66,<3.0.0)"
  - "pip:transparent-background (>=1.3.4,<2.0.0)"
  - "pip:insightface (==0.7.3)"
  - "pip:onnxruntime-gpu (==1.17.1)"
  - "pip:diffusers (>=0.33.1,<0.34.0)"
  - "pip:controlnet-aux (==0.0.6)"
  - "pip:accelerate (==0.21.0)"
  - "pip:numpy (>=1.26.0,<1.27.0)"
  - "pip:opencv-python (>=4.7.0.72)"
  - "pip:color-matcher (>=0.6.0,<0.7.0)"
  - "pip:matplotlib (>=3.10.3,<4.0.0)"
  - "pip:mss (>=10.0.0,<11.0.0)"
  - "pip:huggingface-hub (>=0.33.0,<0.34.0)"
  - "pip:gitpython (>=3.1.44,<4.0.0)"
  - "pip:pygithub (>=2.6.1,<3.0.0)"
  - "pip:matrix-client (==0.4.0)"
  - "pip:typer (>=0.16.0,<0.17.0)"
  - "pip:rich (>=14.0.0,<15.0.0)"
  - "pip:toml (>=0.10.2,<0.11.0)"
  - "pip:uv (>=0.7.13,<0.8.0)"
  - "pip:typing-extensions (>=4.14.0,<5.0.0)"
  - "pip:chardet (>=5.2.0,<6.0.0)"
  - "pip:imageio-ffmpeg (>=0.6.0,<0.7.0)"
  - "pip:pydantic-settings (>=2.10.0,<3.0.0)"
  - "pip:alembic (>=1.16.2,<2.0.0)"
  - "pip:segment-anything (>=1.0,<2.0)"
  - "pip:timm (>=1.0.16,<2.0.0)"
  - "pip:addict (>=2.4.0,<3.0.0)"
  - "pip:yapf (>=0.43.0,<0.44.0)"
  - "pip:importlib-metadata (>=8.7.0,<9.0.0)"
  - "pip:filelock (>=3.18.0,<4.0.0)"
  - "pip:scikit-image (>=0.25.2,<0.26.0)"
  - "pip:python-dateutil (>=2.9.0.post0,<3.0.0)"
  - "pip:mediapipe (>=0.10.21,<0.11.0)"
  - "pip:svglib (>=1.5.1,<2.0.0)"
  - "pip:fvcore (>=0.1.5.post20221221,<0.2.0)"
  - "pip:omegaconf (>=2.3.0,<3.0.0)"
  - "pip:ftfy (>=6.3.1,<7.0.0)"
  - "pip:yacs (>=0.1.8,<0.2.0)"
  - "pip:trimesh[easy] (>=4.6.13,<5.0.0)"
  - "pip:albumentations (>=2.0.8,<3.0.0)"
  - "pip:scikit-learn (>=1.7.0,<2.0.0)"
